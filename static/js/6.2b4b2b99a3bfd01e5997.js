webpackJsonp([6],{"0aAL":function(t,s,e){"use strict";s.a=function(t){return new r({id:t.Fsinger_mid,name:t.Fsinger_name,pic:"https://y.gtimg.cn/music/photo_new/T001R150x150M000"+t.Fsinger_mid+".jpg?max_age=2592000"})};var i=e("AA3o"),n=e.n(i),r=function t(s){var e=s.id,i=s.name;n()(this,t),this.id=e,this.name=i,this.pic="https://y.gtimg.cn/music/photo_new/T001R300x300M000"+e+".jpg?max_age=2592000"};s.b=r},"3Q4o":function(t,s,e){"use strict";function i(t,s){return new RegExp("(^|\\s)"+s+"(\\s|$)").test(t.className)}s.a=function(t,s){if(i(t,s))return;var e=t.className.split(" ");e.push(s),t.className=e.join(" ")},s.b=function(t,s,e){if(e)return t.setAttribute("data-"+s,e);return t.getAttribute("data-"+s)},s.c=function(t){if(t instanceof window.SVGElement){var s=t.getBoundingClientRect();return{top:s.top,left:s.left,width:s.width,height:s.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}},YK1Q:function(t,s){},hbgm:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("4YfN"),n=e.n(i),r=e("0aAL"),o=e("bh5B"),a=e("aA9S"),c=e.n(a),h=e("Gak4"),l=e("T452");var u=e("qqiS"),g=e("3Q4o"),f=e("9rMa"),d={data:function(){return{singerList:[],listenScroll:!0,scrollY:-1,currentIndex:0,listHeight:[],probeType:3,gap:-1,touch:{},showShortcutLight:!1}},computed:{shortcutList:function(){return this.singerList.map(function(t){return t.tag.substr(0,1)})},fixedTitle:function(){return this.scrollY>0?"":this.singerList[this.currentIndex]?this.singerList[this.currentIndex].tag:""},showHot:function(){return this.scrollY>0||"热门"===this.fixedTitle}},created:function(){this._getSingerList()},methods:n()({_getSingerList:function(){var t,s=this;(t=c()({},l.b,{channel:"singer",page:"list",key:"eu_team_all",pagesize:100,pagenum:1,loginUin:0,hostUin:0,g_tk:450152082,platform:"yqq",needNewCode:0,format:"jsonp"}),Object(h.a)("https://c.y.qq.com/v8/fcg-bin/v8.fcg",t,l.c)).then(function(t){t.code===l.a&&(s.singerList=s._sortSingerList(t.data.list))}).catch(function(t){console.log(t)})},_sortSingerList:function(t){var s={hot:{tag:"热门",items:[]}};t.forEach(function(t,e){e<10&&s.hot.items.push(Object(r.a)(t));var i=t.Findex;s[i]||(s[i]={tag:i,items:[]}),s[i].items.push(Object(r.a)(t))});var e=[],i=[];for(var n in s){var o=s[n];o.tag.match(/[a-zA-Z]/)?i.push(o):"热门"===o.tag&&e.push(o)}return i.sort(function(t,s){return t.tag.charCodeAt(0)-s.tag.charCodeAt(0)}),e.concat(i)},onTouchStart:function(t){var s=Object(g.b)(t.target,"index"),e=Object(g.c)(t.target);this.touch.y1=t.touches[0].pageY;var i=e.top;this.touch.anchorIndex=parseInt(s),this._scrollTo(s),this.$refs.shortcutDot.style.background="#F5CD19",this.$refs.shortcutLight.style.top=i-25+"px",this.$refs.shortcutLight.style.transform="translate3d(0, 0, 0)",this.$refs.shortcutLight.style.display="block"},onTouchMove:function(t){this.touch.y2=t.touches[0].pageY;var s=this.touch.y2-this.touch.y1,e=s/18|0,i=parseInt(this.touch.anchorIndex)+e;this.$refs.shortcutLight.style.transform="translate3d(0, "+s+"px, 0)",this._scrollTo(i)},onTouchend:function(){this.$refs.shortcutDot.style.background="rgb(230,230,230)",this.$refs.shortcutLight.style.display="none"},_scrollTo:function(t){(t||0===t)&&(t<0?t=0:t>this.listHeight.length-2&&(t=this.listHeight.length-2),this.scrollY=-this.listHeight[t],this.$refs.scroll._scrollToElement(this.$refs.listGroup[t],0))},_scroll:function(t){this.scrollY=t.y},_caculateHeight:function(){var t=this.$refs.listGroup,s=0;this.listHeight.push(s);for(var e=0;e<t.length;e++){s+=t[e].clientHeight,this.listHeight.push(s)}},selectSinger:function(t,s){console.log("selectSinger"),this.setSinger(t),this.$router.push({path:"/singer/"+t.id})}},Object(f.d)({setSinger:"SET_SINGER"}),{adaptBottom:function(t){var s=this.playList.length>0?"40px":"";this.$refs.singer.style.bottom=s,this.$refs.scroll._refresh()}}),watch:{singerList:function(){var t=this;setTimeout(function(){t._caculateHeight()},20)},scrollY:function(t,s){var e=this.listHeight;if(t>0)this.currentIndex=0;else{for(var i=0;i<e.length-1;i++){var n=e[i],r=e[i+1];if(-t>=n&&-t<r)return this.currentIndex=i,void(this.gap=r+t)}this.currentIndex=e.length-2}},gap:function(t,s){var e=t>0&&t<30?t-30:0;this.$refs.fixedTitle.style.transform="translate3d(0, "+e+"px, 0)"}},components:{Scroll:o.a,Loading:u.a}},p={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"singer",staticClass:"singer"},[e("scroll",{ref:"scroll",staticClass:"singer-list",attrs:{data:t.singerList,listenScroll:t.listenScroll,probeType:t.probeType},on:{scroll:t._scroll}},[e("ul",t._l(t.singerList,function(s,i){return e("li",{ref:"listGroup",refInFor:!0,staticClass:"list-group"},[t.showHot&&0===i?e("i",{staticClass:"icon-huo"}):t._e(),t._v(" "),e("h2",{staticClass:"list-group-title"},[t._v(t._s(s.tag))]),t._v(" "),e("ul",t._l(s.items,function(s,i){return e("li",{staticClass:"list-group-item",on:{click:function(e){t.selectSinger(s,i)}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.pic,expression:"item.pic"}],staticClass:"pic"}),t._v(" "),e("span",{staticClass:"name"},[t._v(t._s(s.name))])])}))])})),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.singerList.length,expression:"singerList.length"}],staticClass:"list-shortcut",on:{touchstart:function(s){return s.stopPropagation(),s.preventDefault(),t.onTouchStart(s)},touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.onTouchMove(s)},touchend:t.onTouchend}},[e("span",{ref:"shortcutDot",staticClass:"shortcutDot"}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showShortcutLight,expression:"showShortcutLight"}],ref:"shortcutLight",staticClass:"shortcutLight"},[t._v(t._s(t.fixedTitle))]),t._v(" "),e("ul",t._l(t.shortcutList,function(s,i){return e("li",{staticClass:"item",class:{current:t.currentIndex===i},attrs:{"data-index":i}},[t._v(t._s(s)+"\n        ")])}))]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.fixedTitle,expression:"fixedTitle"}],ref:"fixedTitle",staticClass:"list-fixed"},[t.showHot?e("i",{staticClass:"icon-huo"}):t._e(),t._v(" "),e("h1",{staticClass:"fixed-title"},[t._v(t._s(t.fixedTitle))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.singerList.length,expression:"!singerList.length"}],staticClass:"loading-container"},[e("loading")],1),t._v(" "),e("router-view")],1)],1)},staticRenderFns:[]};var v=e("vSla")(d,p,!1,function(t){e("YK1Q")},"data-v-d3cfed18",null);s.default=v.exports}});
//# sourceMappingURL=6.2b4b2b99a3bfd01e5997.js.map