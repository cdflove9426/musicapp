webpackJsonp([3],{"/K3U":function(t,s){},"2NsZ":function(t,s){},"6yNt":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("4YfN"),n=e.n(i),a=e("oifJ"),r=e("9rMa"),l=e("aA9S"),c=e.n(l),o=e("Gak4"),h=e("T452");var d=e("PvFA"),g={components:{SongPage:a.a},computed:n()({},Object(r.c)(["rank"]),{title:function(){return this.rank.topTitle},bgImage:function(){if(this.rankDetail.length)return this.rankDetail[1].image}}),data:function(){return{rankDetail:[]}},created:function(){this._getRankDetail()},methods:{_getRankDetail:function(){var t,s,e=this;this.rank.id?(t=this.rank.id,s=c()({},h.b,{g_tk:5381,format:"jsonp",platform:"h5",needNewCode:1,tpl:3,page:"detail",type:"top",topid:t}),Object(o.a)("https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg",s,h.c)).then(function(t){t.code===h.a&&(console.log(t.songlist),e.rankDetail=e._sortSongsList(t.songlist))}):this.$router.push({path:"/rank"})},_sortSongsList:function(t){var s=[];return t.forEach(function(t){var e=t.data;e.songid&&e.albummid&&s.push(Object(d.a)(e))}),s}}},u={render:function(){var t=this.$createElement,s=this._self._c||t;return s("transition",[s("song-page",{attrs:{"bg-image":this.bgImage,title:this.title,songs:this.rankDetail}})],1)},staticRenderFns:[]};var f=e("vSla")(g,u,!1,function(t){e("wZSd")},"data-v-52052104",null);s.default=f.exports},SdhX:function(t,s){},oDqS:function(t,s){},oifJ:function(t,s,e){"use strict";var i=e("4YfN"),n=e.n(i),a=e("bh5B"),r={props:{index:{type:Number,default:0}}},l={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"song_wrapper"},[s("div",{staticClass:"rank"},[this._v(this._s(this.index+1))]),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var c=e("vSla")(r,l,!1,function(t){e("SdhX")},"data-v-62056404",null).exports,o={props:{index:{type:Number,default:0}},methods:{computedClass:function(){if(!(this.index<=2))return"text";switch(this.index){case 0:return"icon-first";case 1:return"icon-second";case 2:return"icon-third"}},computedTXT:function(){if(this.index>2)return this.index+1}}},h={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"song_wrapper"},[s("div",{staticClass:"rank"},[s("i",{class:this.computedClass()},[this._v(this._s(this.computedTXT()))])]),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var d=e("vSla")(o,h,!1,function(t){e("2NsZ")},"data-v-727c1ef0",null).exports,g=e("9rMa"),u={props:{songs:{type:Array,default:[]}},components:{SongRankSimple:c,SongRankComplex:d},computed:n()({},Object(g.c)(["currentIndex","currentSong","playing"]),{showWhich:function(){return"/rank"===this.$route.matched[0].path}}),methods:{getDesc:function(t){return t.singer+" - "+t.album},selectSong:function(t,s){this.$emit("selectSong",t,s)}}},f={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"song-list"},[e("ul",t._l(t.songs,function(s,i){return e("li",{staticClass:"item",class:{hightLight:s.id===t.currentSong.id},on:{click:function(e){t.selectSong(s,i)}}},[t.showWhich?e("song-rank-complex",{attrs:{index:i}},[e("div",{staticClass:"content"},[e("h2",{staticClass:"name",class:{hightLight:s.id===t.currentSong.id}},[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"desc",class:{hightLight:s.id===t.currentSong.id}},[t._v(t._s(t.getDesc(s)))])])]):e("song-rank-simple",{attrs:{index:i}},[e("div",{staticClass:"content"},[e("h2",{staticClass:"name",class:{hightLight:s.id===t.currentSong.id}},[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"desc",class:{hightLight:s.id===t.currentSong.id}},[t._v(t._s(t.getDesc(s)))])])]),t._v(" "),s.id===t.currentSong.id?e("div",{staticClass:"currentIcon"},[e("i",{staticClass:"icon-playing"})]):t._e()],1)}))])},staticRenderFns:[]};var p=e("vSla")(u,f,!1,function(t){e("/K3U")},"data-v-ea3b0b00",null).exports,v=e("qqiS"),m=e("I6Sn"),_=Object(m.a)("transform"),y={props:{songs:{type:Array,default:[]},bgImage:{type:String,default:""},title:{type:String,default:""}},components:{Scroll:a.a,Music:p,Loading:v.a},data:function(){return{probeType:3,listenScroll:!0,scrollY:0}},computed:{bgStyle:function(){return"background-image:url("+this.bgImage+")"}},mounted:function(){this.clientH=this.$refs.bgImage.clientHeight,this.minY=40-this.clientH,this.$refs.scroll.$el.style.top=this.clientH+"px"},methods:n()({_scroll:function(t){this.scrollY=t.y},back:function(){this.$router.back()},_selectSong:function(t,s){this.toPlay({list:this.songs,index:s})},playAll:function(){this.toPlay({list:this.songs,index:0})}},Object(g.b)(["toPlay"]),{adaptBottom:function(t){var s=this.playList.length>0?"40px":"";this.$refs.scroll.$el.style.bottom=s,this.$refs.scroll._refresh()}}),watch:{scrollY:function(t,s){var e=Math.max(this.minY,t),i=0;this.$refs.bgLayer.style[_]="translate3d(0, "+e+"px, 0)",t<this.minY?(i=10,this.$refs.bgImage.style.paddingTop=0,this.$refs.bgImage.style.height="40px",this.$refs.playBtn.style.display="none"):(this.$refs.bgImage.style.paddingTop="70%",this.$refs.bgImage.style.height=0,this.$refs.playBtn.style.display=""),this.$refs.bgImage.style.zIndex=i;var n=1,a=0,r=0,l=0,c=Math.abs(t/this.clientH);t>0?(n+=c,i=10,this.$refs.bgImage.style[_]="scale("+n+")",this.$refs.bgImage.style.zIndex=i):(a=Math.min(.2+c,.8),r=Math.max(30*(1-c),18),l=-.6*Math.min(1.2*c,1)*this.clientH,this.$refs.filter.style.backgroundColor="rgba(7, 17, 27, "+a+")",this.$refs.title.style.fontSize=r+"px",this.$refs.title.style[_]="translate3d(0, "+l+"px, 0)",t<this.minY&&(this.$refs.title.style[_]="translate3d(0, -24px, 0)"))}}},b={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"music-list"},[e("div",{staticClass:"back",on:{click:t.back}},[e("i",{staticClass:"icon-fanhui"})]),t._v(" "),t._m(0),t._v(" "),e("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[e("h1",{ref:"title",staticClass:"title",domProps:{innerHTML:t._s(t.title)}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.songs.length,expression:"songs.length"}],ref:"playBtn",staticClass:"play-wrapper"},[t._m(1)]),t._v(" "),e("div",{ref:"filter",staticClass:"filter"})]),t._v(" "),e("div",{ref:"bgLayer",staticClass:"bg-layer"}),t._v(" "),e("scroll",{ref:"scroll",staticClass:"list",attrs:{data:t.songs,probeType:t.probeType,listenScroll:t.listenScroll},on:{scroll:t._scroll}},[e("div",{staticClass:"song-list-wrapper"},[e("music",{attrs:{songs:t.songs},on:{selectSong:t._selectSong}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.songs.length,expression:"!songs.length"}],staticClass:"loading-container"},[e("loading")],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"detail"},[s("i",{staticClass:"icon-share"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"play"},[s("i",{staticClass:"icon-bofang1"}),this._v(" "),s("span",{staticClass:"text"},[this._v("一键播放,GO!")])])}]};var S=e("vSla")(y,b,!1,function(t){e("oDqS")},"data-v-86f37f4c",null);s.a=S.exports},wZSd:function(t,s){}});
//# sourceMappingURL=3.1b286baa64f027dc8006.js.map