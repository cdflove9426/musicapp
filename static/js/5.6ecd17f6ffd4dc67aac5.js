webpackJsonp([5],{"3Q4o":function(t,e,s){"use strict";function i(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)}e.a=function(t,e){if(i(t,e))return;var s=t.className.split(" ");s.push(e),t.className=s.join(" ")},e.b=function(t,e,s){if(s)return t.setAttribute("data-"+e,s);return t.getAttribute("data-"+e)},e.c=function(t){if(t instanceof window.SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}},DGW6:function(t,e){},w3Hl:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("lC5x"),n=s.n(i),r=s("J0Oq"),o=s.n(r),a=s("aA9S"),l=s.n(a),c=s("Gak4"),d=s("T452");s("2sCs");s("x5wy");var u=s("btxw"),h=s("3Q4o"),f={data:function(){return{dots:[],currentPageIndex:0,sliderHeight:0}},props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:3e3}},mounted:function(){var t=this;setTimeout(function(){t._setSliderWidth(),t._initDots(),t._initSlider(),t.autoPlay&&t._autoPlay(),t.computedHeight()},20),window.addEventListener("resize",function(){t.slider&&(t._setSliderWidth(!0),t.slider.refresh(),t.computedHeight())})},deactivated:function(){clearInterval(this.timer)},beforeDestroy:function(){clearInterval(this.timer)},methods:{computedHeight:function(){this.sliderHeight=this.$refs.slider.clientHeight,this.$emit("sliderHeight",this.sliderHeight)},_setSliderWidth:function(t){this.children=this.$refs.sliderGroup.children;for(var e=0,s=this.$refs.slider.clientWidth,i=0;i<this.children.length;i++){var n=this.children[i];Object(h.a)(n,"slider-item"),n.style.width=s+"px",e+=s}this.loop&&!t&&(e+=2*s),this.$refs.sliderGroup.style.width=e+"px"},_initDots:function(){this.dots=new Array(this.children.length)},_initSlider:function(){var t=this;this.slider=new u.a(this.$refs.slider,{scrollX:!0,scroolY:!1,momentum:!1,snap:{loop:this.loop,threshold:.3,snapSpeed:400}}),this.slider.on("scrollEnd",function(){var e=t.slider.getCurrentPage().pageX;t.loop&&(e-=1),t.currentPageIndex=e,t.autoPlay&&(clearInterval(t.timer),t._autoPlay())})},_autoPlay:function(){var t=this,e=this.currentPageIndex+1;this.loop&&(e+=1),this.timer=setInterval(function(){t.slider.goToPage(e,0,400)},this.interval)}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"slider",staticClass:"slider"},[s("div",{ref:"sliderGroup",staticClass:"slider-group"},[t._t("default")],2),t._v(" "),s("div",{staticClass:"dots"},t._l(t.dots,function(e,i){return s("span",{staticClass:"dot",class:{active:t.currentPageIndex===i}})}))])},staticRenderFns:[]};var p=s("vSla")(f,m,!1,function(t){s("wA4V")},"data-v-60f4e3ae",null).exports,g=s("bh5B"),v=s("qqiS"),_={data:function(){return{recommends:[],songsList:[],listenScroll:!0,probeType:3,scrollY:-1,sliderHeight:0,listenNum:[]}},created:function(){},mounted:function(){this._getRecommend(),this._getDesList()},methods:{_getRecommend:function(){var t=this;return o()(n.a.mark(function e(){var s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,void 0,i=l()({},d.b,{g_tk:1937468452,platform:"h5",uin:0,needNewCode:1,_:1512458339757}),Object(c.a)("https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg",i,d.c);case 2:s=e.sent,t.recommends=s.data.slider;case 4:case"end":return e.stop()}var i},e,t)}))()},_getDesList:function(){var t=this;return o()(n.a.mark(function e(){var s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,void 0,i=l()({},d.b,{g_tk:5381,platform:"h5",needNewCode:1,_:1515039362521}),Object(c.a)("https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg",i,d.c);case 2:s=e.sent,t.songsList=s.data.songList;case 4:case"end":return e.stop()}var i},e,t)}))()},chooseItem:function(t){window.location.href="https://y.qq.com/w/taoge.html?ADTAG=newyqq.taoge&id="+t.id},changeListenNum:function(t){var e=void 0,s=[];return t.forEach(function(t){e=(e=(t.accessnum/1e4).toString()).substr(0,e.indexOf(".")+2),e+="万人听过",s.push(e)}),s},_scroll:function(t){this.scrollY=t.y},pullupSH:function(){return this.scrollY<=-this.sliderHeight&&"/recommend"===this.$route.fullPath},_sliderHeight:function(t){this.sliderHeight=t},adaptBottom:function(t){var e=this.playList.length>0?"40px":"";this.$refs.recommend.style.bottom=e,this.$refs.scroll._refresh()}},watch:{},components:{Slider:p,Scroll:g.a,Loading:v.a}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"recommend",staticClass:"recommend"},[s("scroll",{ref:"scroll",staticClass:"recommend-content",attrs:{data:t.songsList,"listen-scroll":t.listenScroll,"probe-type":t.probeType},on:{scroll:t._scroll}},[s("div",{staticClass:"wrapper"},[t.recommends.length?s("div",{staticClass:"slider-wrapper"},[s("slider",{on:{sliderHeight:t._sliderHeight}},t._l(t.recommends,function(t){return s("div",[s("a",{attrs:{href:t.linkUrl}},[s("img",{attrs:{src:t.picUrl}})])])}))],1):t._e(),t._v(" "),s("div",{staticClass:"recommend-list"},[s("i",{staticClass:"icon-huo"}),t._v(" "),s("h1",{staticClass:"list-title"},[t._v("热门歌单")]),t._v(" "),s("ul",{staticClass:"clearfix"},t._l(t.songsList,function(e,i){return s("li",{ref:"listGroup",refInFor:!0,staticClass:"item",on:{click:function(s){t.chooseItem(e)}}},[s("div",{staticClass:"icon"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],staticClass:"needsclick",attrs:{height:"100%"}}),t._v(" "),s("span",{staticClass:"listenNum"},[t._v(t._s(t._f("changeListenNum")(e.accessnum)))])]),t._v(" "),s("div",{staticClass:"text"},[s("h2",{staticClass:"name",domProps:{innerHTML:t._s(e.songListDesc)}}),t._v(" "),s("p",{staticClass:"desc",domProps:{innerHTML:t._s(e.songListAuthor)}})])])}))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.songsList.length,expression:"!songsList.length"}],staticClass:"loading-container"},[s("loading")],1)]),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var y=s("vSla")(_,w,!1,function(t){s("DGW6")},"data-v-6d3315de",null);e.default=y.exports},wA4V:function(t,e){}});
//# sourceMappingURL=5.6ecd17f6ffd4dc67aac5.js.map