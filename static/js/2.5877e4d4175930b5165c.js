webpackJsonp([2],{"/K3U":function(t,s){},"2NsZ":function(t,s){},PCWK:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("lC5x"),n=e.n(i),a=e("J0Oq"),r=e.n(a),c=e("4YfN"),l=e.n(c),o=e("9rMa"),h=e("PvFA"),g=e("aA9S"),u=e.n(g),d=e("Gak4"),f=e("T452");var p={components:{SongPage:e("oifJ").a},data:function(){return{songsList:[]}},computed:l()({},Object(o.c)(["singer"]),{bgImage:function(){return this.singer.pic},title:function(){return this.singer.name}}),created:function(){this._getSingerDetail()},methods:{_getSingerDetail:function(){var t=this;return r()(n.a.mark(function s(){var e;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.singer.id){s.next=3;break}return t.$router.push({path:"/singer"}),s.abrupt("return");case 3:return s.prev=3,s.next=6,i=t.singer.id,void 0,n=u()({},f.b,{singermid:i,loginUin:0,hostUin:0,g_tk:5381,platform:"yqq",needNewCode:0,format:"jsonp",order:"listen",begin:0,num:100,songstatus:1}),Object(d.a)("https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg",n,f.c);case 6:e=s.sent,t.songsList=t._sortSongsList(e.data.list),console.log(t.songsList),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(3),console.log(err);case 14:case"end":return s.stop()}var i,n},s,t,[[3,11]])}))()},_sortSongsList:function(t){var s=[];return t.forEach(function(t,e){var i=t.musicData;i.songid&&i.albummid&&s.push(Object(h.a)(i))}),s}}},v={render:function(){var t=this.$createElement,s=this._self._c||t;return s("transition",[s("song-page",{attrs:{songs:this.songsList,"bg-image":this.bgImage,title:this.title}})],1)},staticRenderFns:[]};var m=e("vSla")(p,v,!1,function(t){e("yv6x")},"data-v-59407ddb",null);s.default=m.exports},SdhX:function(t,s){},oDqS:function(t,s){},oifJ:function(t,s,e){"use strict";var i=e("4YfN"),n=e.n(i),a=e("bh5B"),r={props:{index:{type:Number,default:0}}},c={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"song_wrapper"},[s("div",{staticClass:"rank"},[this._v(this._s(this.index+1))]),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var l=e("vSla")(r,c,!1,function(t){e("SdhX")},"data-v-62056404",null).exports,o={props:{index:{type:Number,default:0}},methods:{computedClass:function(){if(!(this.index<=2))return"text";switch(this.index){case 0:return"icon-first";case 1:return"icon-second";case 2:return"icon-third"}},computedTXT:function(){if(this.index>2)return this.index+1}}},h={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"song_wrapper"},[s("div",{staticClass:"rank"},[s("i",{class:this.computedClass()},[this._v(this._s(this.computedTXT()))])]),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var g=e("vSla")(o,h,!1,function(t){e("2NsZ")},"data-v-727c1ef0",null).exports,u=e("9rMa"),d={props:{songs:{type:Array,default:[]}},components:{SongRankSimple:l,SongRankComplex:g},computed:n()({},Object(u.c)(["currentIndex","currentSong","playing"]),{showWhich:function(){return"/rank"===this.$route.matched[0].path}}),methods:{getDesc:function(t){return t.singer+" - "+t.album},selectSong:function(t,s){this.$emit("selectSong",t,s)}}},f={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"song-list"},[e("ul",t._l(t.songs,function(s,i){return e("li",{staticClass:"item",class:{hightLight:s.id===t.currentSong.id},on:{click:function(e){t.selectSong(s,i)}}},[t.showWhich?e("song-rank-complex",{attrs:{index:i}},[e("div",{staticClass:"content"},[e("h2",{staticClass:"name",class:{hightLight:s.id===t.currentSong.id}},[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"desc",class:{hightLight:s.id===t.currentSong.id}},[t._v(t._s(t.getDesc(s)))])])]):e("song-rank-simple",{attrs:{index:i}},[e("div",{staticClass:"content"},[e("h2",{staticClass:"name",class:{hightLight:s.id===t.currentSong.id}},[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"desc",class:{hightLight:s.id===t.currentSong.id}},[t._v(t._s(t.getDesc(s)))])])]),t._v(" "),s.id===t.currentSong.id?e("div",{staticClass:"currentIcon"},[e("i",{staticClass:"icon-playing"})]):t._e()],1)}))])},staticRenderFns:[]};var p=e("vSla")(d,f,!1,function(t){e("/K3U")},"data-v-ea3b0b00",null).exports,v=e("qqiS"),m=e("I6Sn"),_=Object(m.a)("transform"),b={props:{songs:{type:Array,default:[]},bgImage:{type:String,default:""},title:{type:String,default:""}},components:{Scroll:a.a,Music:p,Loading:v.a},data:function(){return{probeType:3,listenScroll:!0,scrollY:0}},computed:{bgStyle:function(){return"background-image:url("+this.bgImage+")"}},mounted:function(){this.clientH=this.$refs.bgImage.clientHeight,this.minY=40-this.clientH,this.$refs.scroll.$el.style.top=this.clientH+"px"},methods:n()({_scroll:function(t){this.scrollY=t.y},back:function(){this.$router.back()},_selectSong:function(t,s){this.toPlay({list:this.songs,index:s})},playAll:function(){this.toPlay({list:this.songs,index:0})}},Object(u.b)(["toPlay"]),{adaptBottom:function(t){var s=this.playList.length>0?"40px":"";this.$refs.scroll.$el.style.bottom=s,this.$refs.scroll._refresh()}}),watch:{scrollY:function(t,s){var e=Math.max(this.minY,t),i=0;this.$refs.bgLayer.style[_]="translate3d(0, "+e+"px, 0)",t<this.minY?(i=10,this.$refs.bgImage.style.paddingTop=0,this.$refs.bgImage.style.height="40px",this.$refs.playBtn.style.display="none"):(this.$refs.bgImage.style.paddingTop="70%",this.$refs.bgImage.style.height=0,this.$refs.playBtn.style.display=""),this.$refs.bgImage.style.zIndex=i;var n=1,a=0,r=0,c=0,l=Math.abs(t/this.clientH);t>0?(n+=l,i=10,this.$refs.bgImage.style[_]="scale("+n+")",this.$refs.bgImage.style.zIndex=i):(a=Math.min(.2+l,.8),r=Math.max(30*(1-l),18),c=-.6*Math.min(1.2*l,1)*this.clientH,this.$refs.filter.style.backgroundColor="rgba(7, 17, 27, "+a+")",this.$refs.title.style.fontSize=r+"px",this.$refs.title.style[_]="translate3d(0, "+c+"px, 0)",t<this.minY&&(this.$refs.title.style[_]="translate3d(0, -24px, 0)"))}}},y={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"music-list"},[e("div",{staticClass:"back",on:{click:t.back}},[e("i",{staticClass:"icon-fanhui"})]),t._v(" "),t._m(0),t._v(" "),e("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[e("h1",{ref:"title",staticClass:"title",domProps:{innerHTML:t._s(t.title)}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.songs.length,expression:"songs.length"}],ref:"playBtn",staticClass:"play-wrapper"},[t._m(1)]),t._v(" "),e("div",{ref:"filter",staticClass:"filter"})]),t._v(" "),e("div",{ref:"bgLayer",staticClass:"bg-layer"}),t._v(" "),e("scroll",{ref:"scroll",staticClass:"list",attrs:{data:t.songs,probeType:t.probeType,listenScroll:t.listenScroll},on:{scroll:t._scroll}},[e("div",{staticClass:"song-list-wrapper"},[e("music",{attrs:{songs:t.songs},on:{selectSong:t._selectSong}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.songs.length,expression:"!songs.length"}],staticClass:"loading-container"},[e("loading")],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"detail"},[s("i",{staticClass:"icon-share"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"play"},[s("i",{staticClass:"icon-bofang1"}),this._v(" "),s("span",{staticClass:"text"},[this._v("一键播放,GO!")])])}]};var S=e("vSla")(b,y,!1,function(t){e("oDqS")},"data-v-86f37f4c",null);s.a=S.exports},yv6x:function(t,s){}});
//# sourceMappingURL=2.5877e4d4175930b5165c.js.map